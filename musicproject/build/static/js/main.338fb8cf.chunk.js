(this.webpackJsonpmusicapp=this.webpackJsonpmusicapp||[]).push([[0],{10:function(t){t.exports=JSON.parse("[]")},26:function(t,e,n){},27:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(1),i=n.n(s),c=n(19),o=n.n(c),r=(n(26),n(20)),l=n(3),u=n(4),h=n(6),p=n(5),j=n.p+"static/media/logo.c1802a1f.png",g=(n(27),n.p,n.p,n(10)),d=(n.p,n.p,n.p,n.p,n.p,function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).Updatesrc=function(){fetch("http://localhost:4000/openplaylist").then((function(t){return t.json()})).then((function(t){a.setState({audio:t[t.indexOf(a.props.songname.toString())]},(function(){document.querySelector("audio").src="http://localhost:4000/"+a.state.audio}))}))},a.state={audio:[]},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){if(t.songname===this.props.songname)return!1;this.Updatesrc()}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{children:[Object(a.jsx)("p",{children:this.props.songname}),Object(a.jsx)("audio",{name:"autonext",onEnded:function(e){t.props.changesong(e)},autoPlay:!0,controls:!0,children:Object(a.jsx)("source",{type:"audio/mp3"})})]})})}}]),n}(s.Component)),f=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).Playsong=function(t){a.setState({songname:t.target.textContent})},a.ChangeSong=function(t){if(document.querySelectorAll("div>ul>li").forEach((function(t){if(a.state.songsarray[a.state.songsarray.length]===t.textContent)return!1;a.state.songsarray.push(t.textContent)})),"Next"==t.target.name||"autonext"==t.target.attributes.name.value)a.setState({songname:a.state.songsarray[a.state.songsarray.indexOf(a.state.songname)+1]});else{if(0===a.state.songsarray.indexOf(a.state.songname))return!1;a.setState({songname:a.state.songsarray[a.state.songsarray.indexOf(a.state.songname)-1]})}},a.state={songname:"",songsarray:[],callbackfunc:""},a}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Homepage"}),Object(a.jsx)("img",{src:this.props.shoplaylist[0].cover,style:{height:"70vh",width:"100%",objectFit:"cover"}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{src:this.props.shoplaylist[0].cover,style:{height:"auto",width:"200px",objectFit:"cover"}}),Object(a.jsx)("ul",{children:this.props.shoplaylist.map((function(e,n){return Object(a.jsx)("li",{onClick:t.Playsong,children:e.Name.toString()},n)}))}),Object(a.jsx)(d,{songname:this.state.songname,changesong:function(e){return t.ChangeSong(e)}}),Object(a.jsx)("button",{onClick:this.getChild,children:"getchild"}),Object(a.jsxs)("p",{children:[Object(a.jsx)("button",{name:"Prev",onClick:this.ChangeSong,children:"Prev"}),Object(a.jsx)("button",{name:"Next",onClick:this.ChangeSong,children:"Next"})]})]})]})}}]),n}(i.a.Component),b=n(7),m=n.n(b),O=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).removeplaylist=function(t){var e={data:t.target.value};m.a.post("http://localhost:4000/delete",e).then((function(t){return console.log(t)}))},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsx)("section",{children:g.map((function(e,n){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:e[Object.keys(e)][0].PlaylistName}),Object(a.jsx)("img",{onClick:t.props.selected,className:n,src:e[Object.keys(e)][0].cover,style:{height:"200px",width:"200px"}},n),Object(a.jsx)("br",{}),Object(a.jsx)("button",{className:"removeplaylist",value:e[Object.keys(e)][0].PlaylistName,onClick:t.removeplaylist,children:"Remove Playlist"})]})}))})}}]),n}(s.Component),x=n(8),y=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).getformData=function(t){var e;a.setState((e={},Object(x.a)(e,t.target.name,t.target.value),Object(x.a)(e,"Name",a.props.selectedsongs),e))},a.fileFunc=function(t){a.setState(Object(x.a)({},t.target.name,t.target.files[0]))},a.sendDatatoServer=function(t){t.preventDefault();var e=new FormData;e.append("file",a.state.file),e.append("body",JSON.stringify(a.state)),a.state.file.name?m.a.post("http://localhost:4000/test",e).then((function(t){window.location.reload()})).catch((function(t){return console.log(t.message)})):alert("must choose a file")},a.state={playlistname:"",cover:"",Name:"",year:"",file:""},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("section",{className:"songlist"}),Object(a.jsxs)("form",{method:"POST",action:"/",encType:"multipart/form-data",children:[Object(a.jsx)("input",{type:"text",placeholder:"Playlist Name",name:"playlistname",onChange:this.getformData,value:this.state.playlistname}),Object(a.jsx)("input",{type:"text",placeholder:"Cover Photo Url",name:"cover",onChange:this.getformData,value:this.state.cover}),Object(a.jsx)("input",{type:"text",placeholder:"Year",name:"year",onChange:this.getformData,value:this.state.year}),Object(a.jsx)("input",{type:"file",name:"file",onChange:this.fileFunc,multiple:!0}),Object(a.jsx)("input",{type:"submit",value:"submit",onClick:this.sendDatatoServer})]})]})}}]),n}(s.Component),v=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).selectedsongs=function(t){a.setState({songslist:[t.target.value].concat(Object(r.a)(a.state.songslist))})},a.openplaylist=function(t){fetch("http://localhost:4000/test").then((function(t){return t.json()})).then((function(e){a.setState({currentpage:e.filter((function(e){return e.playlistname==t.target.title}))})}))},a.ApiCall=function(){fetch("http://localhost:4000/test").then((function(t){return t.json()})).then((function(t){var e=[];t.forEach((function(n,s){-1===e.indexOf(n.playlistname)?e.push(n.playlistname):delete t[e.indexOf(n.playlistname)],a.setState({apiresponse:t})}))}))},a.state={apiresponse:[],currentpage:"",songslist:""},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.ApiCall()}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{children:Object(a.jsxs)("header",{children:[Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)("img",{src:j,style:{height:"50px",width:"50px"}})}),Object(a.jsx)("li",{children:"HOME"}),Object(a.jsx)("li",{children:"ABOUT US"}),Object(a.jsx)("li",{children:"PRICING"})]}),Object(a.jsx)(y,{selectedsongs:this.state.songslist}),""!==this.state.currentpage?Object(a.jsx)(f,{shoplaylist:this.state.currentpage}):Object(a.jsx)(O,{selected:this.openplaylist}),this.state.apiresponse.map((function(e,n){return Object(a.jsx)("img",{id:n,onClick:t.openplaylist,title:e.playlistname,src:e.cover,style:{objectFit:"cover",margin:"1%",display:"flex",height:"200px",width:"300px"}},n)}))]})})}}]),n}(i.a.Component),C=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),a(t),s(t),i(t),c(t)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),C()}},[[46,1,2]]]);
//# sourceMappingURL=main.338fb8cf.chunk.js.map